<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload</title>
    <style>
        body {
            background-color: #f0f0f0; /* Light gray background */
            color: #333; /* Dark text color */
            font-family: 'Arial', sans-serif;
            text-align: center;
            margin: 0; /* Remove default margin */
            overflow: hidden; /* Prevent scroll bars */
            height: 100vh; /* Full height of the viewport */
        }
        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            color: #2c3e50; /* Darker gray for heading */
        }
        .banner {
            display: flex; /* Flexbox for alignment */
            align-items: center; /* Center vertically */
            justify-content: space-between; /* Space out items evenly */
            background-color: #34495e; /* Dark gray banner */
            color: #ecf0f1; /* Light text color */
            padding: 20px;
            font-size: 1.5em;
            border-radius: 0px; /* No rounded corners */
            margin-bottom: 0px; /* Space below the banner */
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2); /* Shadow for the menu */
        }
        .mini-banner {
            display: flex; /* Flexbox for alignment */
            justify-content: space-around; /* Space out items evenly */
            background-color: #bdc3c7; /* Light gray background */
            color: #2c3e50; /* Dark text color */
            padding: 15px; /* Padding for the banner */
            font-size: 1.2em; /* Font size for the text */
            border-radius: 0px; /* No rounded corners */
            margin-bottom: 0px; /* Space below the banner */
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2); /* Shadow for the menu */
        }
        .menu-button, .collapse-button, .expand-button {
            background-color: #2980b9; /* Blue button */
            color: white;
            border: none;
            padding: 10px 15px; /* Padding for button */
            cursor: pointer;
            margin-right: 10px; /* Space to the right of the button */
            border-radius: 5px; /* Rounded corners */
            font-size: 1em; /* Font size for the button */
            transition: background-color 0.3s; /* Transition for hover effect */
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2); /* Shadow for the menu */
        }
        .menu-button:hover, .collapse-button:hover, .expand-button:hover {
            background-color: #3498db; /* Lighter blue on hover */
        }
        .menu {
            height: 100vh; /* Full height of the viewport */
            width: 250px; /* Width of the menu */
            position: fixed; /* Fixed position */
            left: -250px; /* Hide the menu off-screen */
            background-color: #ecf0f1; /* Light background */
            transition: 0.3s; /* Smooth transition */
            padding: 20px; /* Padding inside the menu */
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.2); /* Shadow for the menu */
            z-index: 1; /* Ensure it's on top */
        }
        .menu.active {
            left: 0; /* Show the menu */
        }
        .content {
            max-width: 100vw; /* Maximum width of the content */
            max-height: 100vh; /* Maximum height of the content */
            overflow: auto; /* Enable scrolling if content exceeds size */
            padding: 50px; /* Padding for content */
        }
        .menu ul {
            list-style-type: none; /* Remove bullet points */
            padding: 0; /* Remove padding */
        }
        .menu li {
            margin: 10px 0; /* Space between buttons */
        }
        .menu a {
            display: inline-block; /* Make it a block element */
            background-color: #2980b9; /* Blue background */
            color: white; /* White text */
            padding: 10px 15px; /* Padding for buttons */
            border-radius: 5px; /* Rounded corners */
            text-decoration: none; /* Remove underline */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Shadow for the buttons */
            transition: background-color 0.3s; /* Transition for hover effect */
        }
        .menu a:hover {
            background-color: #3498db; /* Lighter blue on hover */
        }
        svg {
            background-color: #fff; /* White background for the SVG */
            width: 100%;
            height: calc(100vh - 300px); /* Adjust for banner height */
            border: 1px solid #ddd; /* Light gray border */
            border-radius: 8px; /* Rounded corners */
        }
    </style>
    
</head>
<body>
    <div class="banner">
        <button class="menu-button" onclick="toggleMenu()">Menu</button>
        <div>Upload</div>
    </div>
    <div class="menu" id="menu">
        <h2>Menu</h2>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="org-chart.html">Org Chart</a></li>
            <li><a href="table.html">Table</a></li>
            <li><a href="upload.html">Upload</a></li>
        </ul>
    </div>
    <div class="content">
        <h1>Upload CSV File</h1>
        <div class="upload-form">
            <label for="fileInput">Select a CSV file:</label>
            <input type="file" id="fileInput" accept=".csv">
            <button onclick="uploadFile()">Upload</button>
        </div>
    </div>

    <script>
        function toggleMenu() {
            const menu = document.getElementById("menu");
            menu.classList.toggle("active");
        }

        function uploadFile() {
    const fileInput = document.getElementById("fileInput");
    const file = fileInput.files[0];

    if (file) {
        const reader = new FileReader();
        
        reader.onload = function(e) {
            const content = e.target.result;
            const parsedData = parseCSV(content);
            localStorage.setItem("csvData", JSON.stringify(parsedData)); // Store data in localStorage
            alert('File uploaded successfully! Now you can view it in the Table page.');
        };
        
        reader.readAsText(file);
    } else {
        alert('Please select a file to upload.');
    }
}

// Simple CSV parser function
function parseCSV(data) {
    const rows = data.split('\n').map(row => row.split(','));
    const headers = rows[0];
    const parsedRows = rows.slice(1).map(row => {
        return row.reduce((acc, curr, index) => {
            acc[headers[index].trim()] = curr.trim(); // Create an object for each row
            return acc;
        }, {});
    });
    return parsedRows;
}

    </script>
</body>
</html>
